//
//     Generated by class-dump 3.5 (64 bit) (Debug version compiled Sep 17 2017 16:24:48).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2015 by Steve Nygard.
//

#import <objc/NSObject.h>

#import "AVCaptureAudioDataOutputSampleBufferDelegate-Protocol.h"
#import "AVCaptureVideoDataOutputSampleBufferDelegate-Protocol.h"
#import "FaceDetectDelegate-Protocol.h"

@class AVAssetWriter, AVAssetWriterInput, AVAssetWriterInputPixelBufferAdaptor, AVCaptureAudioDataOutput, AVCaptureDevice, AVCaptureDeviceInput, AVCaptureOutput, AVCaptureSession, AVCaptureStillImageOutput, AVCaptureVideoDataOutput, BeautyGLProgram, CIDetector, CMMotionManager, EAGLContext, FaceMosaicRender, FotoBeautyGLView, GPUFilterAnimationRender, GPUShapeBlendMaskRender, NSMutableArray, NSString, NSURL, PhotoFilterCallback, PhotoFilterRGBBaseFilter, UIImage;
@protocol OS_dispatch_queue, OS_dispatch_semaphore, PBJVisionWizDelegate;

@interface PBJVision_VideoSticker : NSObject <AVCaptureAudioDataOutputSampleBufferDelegate, AVCaptureVideoDataOutputSampleBufferDelegate, FaceDetectDelegate>
{
    NSObject<OS_dispatch_queue> *_captureSessionDispatchQueue;
    NSObject<OS_dispatch_queue> *_captureVideoDispatchQueue;
    NSObject<OS_dispatch_semaphore> *frameRenderingSemaphore;
    long long _cameraDevice;
    long long _cameraMode;
    long long _cameraOrientation;
    long long _focusMode;
    long long _flashMode;
    long long _outputFormat;
    AVCaptureDevice *_currentDevice;
    AVCaptureDeviceInput *_currentInput;
    AVCaptureOutput *_currentOutput;
    NSURL *_outputURL;
    CDStruct_1b6d18a9 _timeOffset;
    CDStruct_1b6d18a9 _videotimeOffset;
    CDStruct_1b6d18a9 _startTimestamp;
    CDStruct_1b6d18a9 _audioTimestamp;
    CDStruct_1b6d18a9 _videoTimestamp;
    long long _bufferDevice;
    long long _bufferOrientation;
    unsigned long long _bufferWidth;
    unsigned long long _bufferHeight;
    struct CGRect _presentationFrame;
    EAGLContext *_context;
    EAGLContext *_MainUicontext;
    struct __CVBuffer *_rgbaTexture;
    struct __CVBuffer *_lumaTexture;
    struct __CVBuffer *_chromaTexture;
    struct __CVOpenGLESTextureCache *_videoTextureCache;
    CDStruct_ca6d8fb7 _flags;
    FotoBeautyGLView *glpreviewlayer_;
    unsigned int displayFramebuffer;
    unsigned int displayRenderbuffer;
    unsigned int movieFramebuffer;
    struct __CVOpenGLESTextureCache *_coreVideoTextureCache;
    struct __CVBuffer *renderTarget;
    struct __CVBuffer *renderTexture;
    BeautyGLProgram *basicShader_;
    struct CGSize _sizeInPixels;
    long long frameClock_;
    long long frameClockForFaceDetect_;
    _Bool toCheckFaceForFocus;
    double _lastFaceDetectedTime;
    double _lastFaceDetailDetectedTime;
    _Bool _faceDataDetectInProcess;
    _Bool _faceDetailDataDetectInProcess;
    double _lastSkinToneDetectedTime;
    double _lastFocusAdjustAccordingFaceRectTime;
    double _lastEnvDarkDetectedTime;
    float _face_detect_interval;
    float _face_detail_detect_interval;
    float _skintone_detect_interval;
    float _focus_adjust_interval;
    float _env_dark_detect_interval;
    _Bool _bCanDetectFace;
    float _mMsv;
    _Bool _skinToneNeedDetect;
    _Bool _focusAdjustAccordingFaceRectNeeded;
    long long capturedDeviceOrientation_;
    _Bool _bFirstVideoSampleWritten;
    float _softLevel;
    float _filterLevel;
    _Bool _bHasSetInphotoMode;
    _Bool enterInBackground;
    _Bool _previewIsRuning;
    _Bool _isDynamicalTiezhi;
    _Bool _needDetectDetail;
    _Bool _needFaceDetect;
    struct CGSize _imagesize;
    int _requiredFaceNum;
    int _hasFace;
    _Bool bInDetecting;
    double _nextAfterTime;
    double _nextAfterTimeArray[100];
    int _nextAfterTimeCount;
    _Bool _calWith100;
    NSString *curPreviewSet;
    float curPreviewScaleRatio;
    NSString *maskImageId;
    double curViewTop;
    NSString *curShotPreset;
    _Bool needRefreshCurCam;
    struct CGAffineTransform playbackTransform;
    _Bool _EnableNightPortraitMode;
    _Bool _blurEnabled;
    _Bool _marginEnabled;
    _Bool _faceDetected;
    _Bool _isOwnerViewVisibile;
    _Bool _mFilterAnimState;
    _Bool _isUpdatingMask;
    _Bool _mEnableShapeMask;
    _Bool _ApplicationIsBackground;
    _Bool _envIsDark;
    _Bool _closeRotationFunc;
    _Bool _enableFaceBox;
    _Bool _mCapturingPhoto;
    float _mFilterAnimProgress;
    float _gammaAdjust;
    int _mFilterToUse;
    int _mFilterCurrentUsing;
    id <PBJVisionWizDelegate> _delegate;
    NSString *_marginImage;
    NSObject *_lockObj;
    AVCaptureSession *_captureSession;
    AVCaptureDevice *_captureDeviceFront;
    AVCaptureDevice *_captureDeviceBack;
    AVCaptureDevice *_captureDeviceAudio;
    AVCaptureDeviceInput *_captureDeviceInputBack;
    AVCaptureDeviceInput *_captureDeviceInputFront;
    AVCaptureDeviceInput *_captureDeviceInputAudio;
    AVCaptureStillImageOutput *_captureOutputPhoto;
    AVCaptureAudioDataOutput *_captureOutputAudio;
    AVCaptureVideoDataOutput *_captureOutputVideo;
    AVAssetWriter *_assetWriter;
    AVAssetWriterInput *_assetWriterAudioIn;
    AVAssetWriterInput *_assetWriterVideoIn;
    AVAssetWriterInputPixelBufferAdaptor *_assetWriterPixelBufferInput;
    CIDetector *_faceDetector;
    UIImage *_faceBoxImage;
    CMMotionManager *_motionManager;
    PhotoFilterCallback *_mCurrentFilterCallback;
    PhotoFilterRGBBaseFilter *_mFilterBlur;
    PhotoFilterRGBBaseFilter *_mBaseFilterRGB;
    GPUFilterAnimationRender *_mFilterAnimRender;
    GPUShapeBlendMaskRender *_mShapeMaskRender;
    FaceMosaicRender *_mFaceMosaicRender;
    NSMutableArray *_facePointsArray;
    NSMutableArray *_faceSwapPoints;
    struct CGRect _faceRect;
}

+ (id)sharedInstance;
@property(retain, nonatomic) NSMutableArray *faceSwapPoints; // @synthesize faceSwapPoints=_faceSwapPoints;
@property(retain, nonatomic) NSMutableArray *facePointsArray; // @synthesize facePointsArray=_facePointsArray;
@property(nonatomic) _Bool mCapturingPhoto; // @synthesize mCapturingPhoto=_mCapturingPhoto;
@property(retain, nonatomic) FaceMosaicRender *mFaceMosaicRender; // @synthesize mFaceMosaicRender=_mFaceMosaicRender;
@property(retain, nonatomic) GPUShapeBlendMaskRender *mShapeMaskRender; // @synthesize mShapeMaskRender=_mShapeMaskRender;
@property(retain, nonatomic) GPUFilterAnimationRender *mFilterAnimRender; // @synthesize mFilterAnimRender=_mFilterAnimRender;
@property(retain, nonatomic) PhotoFilterRGBBaseFilter *mBaseFilterRGB; // @synthesize mBaseFilterRGB=_mBaseFilterRGB;
@property(retain, nonatomic) PhotoFilterRGBBaseFilter *mFilterBlur; // @synthesize mFilterBlur=_mFilterBlur;
@property(nonatomic) int mFilterCurrentUsing; // @synthesize mFilterCurrentUsing=_mFilterCurrentUsing;
@property(nonatomic) int mFilterToUse; // @synthesize mFilterToUse=_mFilterToUse;
@property(retain, nonatomic) PhotoFilterCallback *mCurrentFilterCallback; // @synthesize mCurrentFilterCallback=_mCurrentFilterCallback;
@property(retain, nonatomic) CMMotionManager *motionManager; // @synthesize motionManager=_motionManager;
@property(nonatomic) float gammaAdjust; // @synthesize gammaAdjust=_gammaAdjust;
@property(retain, nonatomic) UIImage *faceBoxImage; // @synthesize faceBoxImage=_faceBoxImage;
@property(nonatomic) _Bool enableFaceBox; // @synthesize enableFaceBox=_enableFaceBox;
@property(retain, nonatomic) CIDetector *faceDetector; // @synthesize faceDetector=_faceDetector;
@property(retain, nonatomic) AVAssetWriterInputPixelBufferAdaptor *assetWriterPixelBufferInput; // @synthesize assetWriterPixelBufferInput=_assetWriterPixelBufferInput;
@property(retain, nonatomic) AVAssetWriterInput *assetWriterVideoIn; // @synthesize assetWriterVideoIn=_assetWriterVideoIn;
@property(retain, nonatomic) AVAssetWriterInput *assetWriterAudioIn; // @synthesize assetWriterAudioIn=_assetWriterAudioIn;
@property(retain, nonatomic) AVAssetWriter *assetWriter; // @synthesize assetWriter=_assetWriter;
@property(retain, nonatomic) AVCaptureVideoDataOutput *captureOutputVideo; // @synthesize captureOutputVideo=_captureOutputVideo;
@property(retain, nonatomic) AVCaptureAudioDataOutput *captureOutputAudio; // @synthesize captureOutputAudio=_captureOutputAudio;
@property(retain, nonatomic) AVCaptureStillImageOutput *captureOutputPhoto; // @synthesize captureOutputPhoto=_captureOutputPhoto;
@property(retain, nonatomic) AVCaptureDeviceInput *captureDeviceInputAudio; // @synthesize captureDeviceInputAudio=_captureDeviceInputAudio;
@property(retain, nonatomic) AVCaptureDeviceInput *captureDeviceInputFront; // @synthesize captureDeviceInputFront=_captureDeviceInputFront;
@property(retain, nonatomic) AVCaptureDeviceInput *captureDeviceInputBack; // @synthesize captureDeviceInputBack=_captureDeviceInputBack;
@property(retain, nonatomic) AVCaptureDevice *captureDeviceAudio; // @synthesize captureDeviceAudio=_captureDeviceAudio;
@property(retain, nonatomic) AVCaptureDevice *captureDeviceBack; // @synthesize captureDeviceBack=_captureDeviceBack;
@property(retain, nonatomic) AVCaptureDevice *captureDeviceFront; // @synthesize captureDeviceFront=_captureDeviceFront;
@property(retain, nonatomic) AVCaptureSession *captureSession; // @synthesize captureSession=_captureSession;
@property(nonatomic) _Bool closeRotationFunc; // @synthesize closeRotationFunc=_closeRotationFunc;
@property(nonatomic) _Bool envIsDark; // @synthesize envIsDark=_envIsDark;
@property(nonatomic) _Bool ApplicationIsBackground; // @synthesize ApplicationIsBackground=_ApplicationIsBackground;
@property(nonatomic) _Bool mEnableShapeMask; // @synthesize mEnableShapeMask=_mEnableShapeMask;
@property(nonatomic) _Bool isUpdatingMask; // @synthesize isUpdatingMask=_isUpdatingMask;
@property(nonatomic) float mFilterAnimProgress; // @synthesize mFilterAnimProgress=_mFilterAnimProgress;
@property(nonatomic) _Bool mFilterAnimState; // @synthesize mFilterAnimState=_mFilterAnimState;
@property(retain, nonatomic) NSObject *lockObj; // @synthesize lockObj=_lockObj;
@property(nonatomic) _Bool isOwnerViewVisibile; // @synthesize isOwnerViewVisibile=_isOwnerViewVisibile;
@property(nonatomic) struct CGRect faceRect; // @synthesize faceRect=_faceRect;
@property(nonatomic) _Bool faceDetected; // @synthesize faceDetected=_faceDetected;
@property(retain, nonatomic) NSString *marginImage; // @synthesize marginImage=_marginImage;
@property(nonatomic) _Bool marginEnabled; // @synthesize marginEnabled=_marginEnabled;
@property(nonatomic) _Bool blurEnabled; // @synthesize blurEnabled=_blurEnabled;
@property(nonatomic) _Bool EnableNightPortraitMode; // @synthesize EnableNightPortraitMode=_EnableNightPortraitMode;
@property(nonatomic) struct CGRect presentationFrame; // @synthesize presentationFrame=_presentationFrame;
@property(nonatomic) long long outputFormat; // @synthesize outputFormat=_outputFormat;
@property(nonatomic) long long focusMode; // @synthesize focusMode=_focusMode;
@property(nonatomic) long long cameraMode; // @synthesize cameraMode=_cameraMode;
@property(nonatomic) long long cameraDevice; // @synthesize cameraDevice=_cameraDevice;
@property(nonatomic) long long cameraOrientation; // @synthesize cameraOrientation=_cameraOrientation;
@property(nonatomic) id <PBJVisionWizDelegate> delegate; // @synthesize delegate=_delegate;
@property(retain, nonatomic) FotoBeautyGLView *glpreviewlayer; // @synthesize glpreviewlayer=glpreviewlayer_;
- (void)setVideoOutputTransform:(long long)arg1;
- (void)needRefreshCamera;
- (void)setCurShotPreset:(id)arg1;
- (void)updateShapeMask:(id)arg1;
- (void)stopFilterAnimation:(int)arg1;
- (void)updateFilterAnimProgress:(float)arg1;
- (void)startFilterAnimation:(int)arg1 endType:(int)arg2;
- (void)setViewTop:(double)arg1;
- (void)setImageBundleId:(id)arg1;
- (void)setPreviewScaleRatio:(double)arg1;
- (void)resetSoftenCallback;
- (void)setCurrentFilterCallback:(int)arg1;
- (void)accelerometer:(id)arg1;
- (void)setInPhotoMode:(_Bool)arg1;
- (void)presentFramebuffer;
- (void)setDisplayFramebuffer;
- (void)destroyDisplayFramebuffer;
- (void)createDisplayFramebuffer;
- (struct CGSize)getNewVideoSize:(struct CGSize)arg1;
- (float)getPreviewRatio;
- (id)getShotPreset;
- (void)setFilterLevel:(float)arg1;
- (void)setSoftnessLevel:(float)arg1;
- (void)_destroyGL;
- (void)_setupGL;
- (void)destroyShader;
- (void)setupShader;
- (void)createVideoDataBuffer;
- (void)destoryVideoDataFBO;
- (void)observeValueForKeyPath:(id)arg1 ofObject:(id)arg2 change:(id)arg3 context:(void *)arg4;
- (void)_deviceSubjectAreaDidChange:(id)arg1;
- (void)_inputPortFormatDescriptionDidChange:(id)arg1;
- (void)_sessionInterruptionEnded:(id)arg1;
- (void)_sessionWasInterrupted:(id)arg1;
- (void)_sessionStopped:(id)arg1;
- (void)_sessionStarted:(id)arg1;
- (void)_sessionRuntimeErrored:(id)arg1;
- (void)_applicationWillResignActive:(id)arg1;
- (void)_applicationWillEnterForeground:(id)arg1;
- (void)handleOutputDataWith:(id)arg1 didOutputSampleBuffer:(struct opaqueCMSampleBuffer *)arg2 fromConnection:(id)arg3;
- (void)captureOutput:(id)arg1 didOutputSampleBuffer:(struct opaqueCMSampleBuffer *)arg2 fromConnection:(id)arg3;
- (void)FaceDetectIOS:(struct opaqueCMSampleBuffer *)arg1;
- (void)detectFaceDataBySampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)resetSkinToneImage2Default;
- (void)adjustFrameRateBySampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)_processSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)_processSampleBuffer2:(struct opaqueCMSampleBuffer *)arg1;
- (void)resetPreviewFrame;
- (void)checkGlError;
- (float *)getVertexBuffer;
- (void)_cleanUpTextures;
- (struct opaqueCMSampleBuffer *)_createOffsetSampleBuffer:(struct opaqueCMSampleBuffer *)arg1 withTimeOffset:(CDStruct_1b6d18a9)arg2;
- (void)_writeSampleBuffer:(struct __CVBuffer *)arg1 ofType:(id)arg2 atTime:(CDStruct_1b6d18a9)arg3 audioSample:(struct opaqueCMSampleBuffer *)arg4;
- (_Bool)_setupAssetWriterVideoInput:(struct opaqueCMFormatDescription *)arg1;
- (_Bool)_setupAssetWriterAudioInput:(struct opaqueCMFormatDescription *)arg1;
- (void)endVideoCapture;
- (void)resumeVideoCapture;
- (void)pauseVideoCapture;
- (void)startVideoCapture:(id)arg1;
- (id)_metadataArray;
@property(readonly, nonatomic) _Bool canCaptureVideo;
- (_Bool)supportsVideoCapture;
- (id)getMainContext;
- (id)getVideoContext;
- (id)getLockObj;
- (void)setRequiredFaceNum:(int)arg1;
- (void)setNeedDetectFaceDetail:(_Bool)arg1;
- (void)setNeedFaceDetect:(_Bool)arg1;
- (void)setDynamicalTiezhiMode:(_Bool)arg1;
- (void)capturePhoto;
- (void)capturePhotoFromFramebuffer;
- (id)rotatedUIImage:(id)arg1 radians:(double)arg2;
- (long long)avOrientationForDeviceOrientation:(long long)arg1;
- (void)_didCapturePhoto;
- (void)_willCapturePhoto;
- (long long)_imageOrientationFromExifOrientation:(long long)arg1;
- (id)_thumbnailJPEGData:(id)arg1;
- (id)_uiimageFromJPEGData:(id)arg1;
@property(readonly, nonatomic) _Bool canCapturePhoto;
- (void)focusAtAdjustedPoint:(struct CGPoint)arg1;
- (void)_setFocusLocked:(_Bool)arg1;
- (void)_focus;
- (void)_focusEnded;
- (void)_focusStarted;
- (void)stopPreview;
- (void)stopPreviewSync;
- (void)startPreview;
- (void)_setupSession;
- (_Bool)_canSessionCaptureWithOutput:(id)arg1;
- (void)_destroyCamera;
- (void)visionDrawFaceBox:(struct CGRect)arg1 parentRect:(struct CGRect)arg2 orientation:(long long)arg3;
- (void)visionCleanFaceBox;
- (void)_setupCamera;
- (void)_executeBlockOnMainQueue:(CDUnknownBlockType)arg1;
- (void)_enqueueBlockOnMainQueue:(CDUnknownBlockType)arg1;
- (void)_executeBlockInCaptureVideoQueue:(CDUnknownBlockType)arg1;
- (void)_enqueueAfterBlockInCaptureVideoQueue:(CDUnknownBlockType)arg1 delayInSeconds:(double)arg2;
- (void)_enqueueBlockInCaptureVideoQueue:(CDUnknownBlockType)arg1;
- (void)_enqueueBlockInBackProcessQueue:(CDUnknownBlockType)arg1;
- (void)dealloc;
- (id)init;
- (void)useVideoCaptureQueueContext;
- (void)useMainQueueContext;
@property(readonly, nonatomic, getter=isFlashAvailable) _Bool flashAvailable;
@property(nonatomic) long long flashMode; // @synthesize flashMode=_flashMode;
- (_Bool)isCameraDeviceAvailable:(long long)arg1;
- (void)_setCameraMode:(long long)arg1 cameraDevice:(long long)arg2 outputFormat:(long long)arg3;
- (void)_setOrientationForConnection:(id)arg1;
@property(nonatomic) _Bool thumbnailEnabled;
@property(nonatomic, getter=isVideoRenderingEnabled) _Bool videoRenderingEnabled;
@property(readonly, nonatomic, getter=isRecording) _Bool recording;
@property(readonly, nonatomic, getter=isCaptureSessionActive) _Bool captureSessionActive;
- (void)initDeviceParameters;

// Remaining properties
@property(readonly, copy) NSString *debugDescription;
@property(readonly, copy) NSString *description;
@property(readonly) unsigned long long hash;
@property(readonly) Class superclass;

@end

