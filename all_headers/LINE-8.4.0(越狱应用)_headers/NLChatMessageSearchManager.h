//
//     Generated by class-dump 3.5 (64 bit) (Debug version compiled Sep 17 2017 16:24:48).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2015 by Steve Nygard.
//

#import <Foundation/NSObject.h>

@class NLSQLiteDB, NSArray, NSManagedObjectContext, NSMutableDictionary, NSMutableSet, NSString;
@protocol OS_dispatch_queue;

@interface NLChatMessageSearchManager : NSObject
{
    NSObject<OS_dispatch_queue> *_buildDispatchQueue;
    NSObject<OS_dispatch_queue> *_searchDispatchQueue;
    NSManagedObjectContext *_managedObjectContext;
    NSMutableDictionary *_savedMessages;
    NSMutableSet *_removedMessages;
    _Bool _initFailed;
    _Bool _isFirstRun;
    _Bool _isFTSReady;
    _Bool _isFTSPrefetchFinished;
    _Bool _isFTSIndexingSuspended;
    _Bool _isFTSUnAvailable;
    _Bool _hasDBError;
    _Bool _hasUnAvailableFreeSpace;
    _Bool _hasDiskFullError;
    NSString *_databasePath;
    NLSQLiteDB *_database;
    long long _countOfLowMemoryWarnings;
    long long _lastIndexedTimestamp;
    long long _lastMessageTimestamp;
    long long _lastIndexedMessageTimestamp;
    unsigned long long _indexedMessageCount;
    double _accumulatedIndexingTime;
    long long _lastElapsedTimeInPrefetch;
    unsigned long long _lastFetchLimitInPrefetch;
    long long _lastElapsedTimeInFetch;
    unsigned long long _lastFetchLimitInFetch;
    NSString *_activeQuery;
    NSArray *_activeTypes;
}

+ (void)reset;
+ (id)sharedManager;
@property(copy) NSArray *activeTypes; // @synthesize activeTypes=_activeTypes;
@property(copy) NSString *activeQuery; // @synthesize activeQuery=_activeQuery;
@property(nonatomic) unsigned long long lastFetchLimitInFetch; // @synthesize lastFetchLimitInFetch=_lastFetchLimitInFetch;
@property(nonatomic) long long lastElapsedTimeInFetch; // @synthesize lastElapsedTimeInFetch=_lastElapsedTimeInFetch;
@property(nonatomic) unsigned long long lastFetchLimitInPrefetch; // @synthesize lastFetchLimitInPrefetch=_lastFetchLimitInPrefetch;
@property(nonatomic) long long lastElapsedTimeInPrefetch; // @synthesize lastElapsedTimeInPrefetch=_lastElapsedTimeInPrefetch;
@property(nonatomic) double accumulatedIndexingTime; // @synthesize accumulatedIndexingTime=_accumulatedIndexingTime;
@property(nonatomic) unsigned long long indexedMessageCount; // @synthesize indexedMessageCount=_indexedMessageCount;
@property long long lastIndexedMessageTimestamp; // @synthesize lastIndexedMessageTimestamp=_lastIndexedMessageTimestamp;
@property(nonatomic) long long lastMessageTimestamp; // @synthesize lastMessageTimestamp=_lastMessageTimestamp;
@property(nonatomic) long long lastIndexedTimestamp; // @synthesize lastIndexedTimestamp=_lastIndexedTimestamp;
@property long long countOfLowMemoryWarnings; // @synthesize countOfLowMemoryWarnings=_countOfLowMemoryWarnings;
@property _Bool hasDiskFullError; // @synthesize hasDiskFullError=_hasDiskFullError;
@property _Bool hasUnAvailableFreeSpace; // @synthesize hasUnAvailableFreeSpace=_hasUnAvailableFreeSpace;
@property _Bool hasDBError; // @synthesize hasDBError=_hasDBError;
@property _Bool isFTSUnAvailable; // @synthesize isFTSUnAvailable=_isFTSUnAvailable;
@property(nonatomic) _Bool isFTSIndexingSuspended; // @synthesize isFTSIndexingSuspended=_isFTSIndexingSuspended;
@property(nonatomic) _Bool isFTSPrefetchFinished; // @synthesize isFTSPrefetchFinished=_isFTSPrefetchFinished;
@property _Bool isFTSReady; // @synthesize isFTSReady=_isFTSReady;
@property(nonatomic) _Bool isFirstRun; // @synthesize isFirstRun=_isFirstRun;
@property(nonatomic) _Bool initFailed; // @synthesize initFailed=_initFailed;
@property(readonly, nonatomic) NLSQLiteDB *database; // @synthesize database=_database;
@property(readonly, nonatomic) NSString *databasePath; // @synthesize databasePath=_databasePath;
- (void).cxx_destruct;
- (void)accountEventUnauthorizeAccount;
- (void)cancelTypeSearch;
- (void)callCompletionBlock:(CDUnknownBlockType)arg1 searchResultItem:(id)arg2;
- (void)didSearchMessages:(id)arg1 filteredMessageCount:(unsigned long long)arg2 contentTypes:(id)arg3 completionBlock:(CDUnknownBlockType)arg4 searchStartTime:(double)arg5;
- (void)performTypeSearch:(id)arg1 inChat:(struct NSManagedObject *)arg2 completionBlock:(CDUnknownBlockType)arg3;
- (_Bool)isActiveTypes:(id)arg1;
- (void)cancelTextSearch;
- (void)callCompletionBlock:(CDUnknownBlockType)arg1 searchResultItems:(id)arg2;
- (void)didSearchMessages:(id)arg1 filteredMessageCount:(unsigned long long)arg2 query:(id)arg3 completionBlock:(CDUnknownBlockType)arg4 searchStartTime:(double)arg5;
- (unsigned long long)fetchMessages:(id)arg1 filteredMessagesIdsInChats:(id)arg2 limitCount:(unsigned long long)arg3 query:(id)arg4 fetchStartTime:(double)arg5;
- (void)performTextSearch:(id)arg1 inChats:(id)arg2 completionBlock:(CDUnknownBlockType)arg3;
- (_Bool)isActiveQuery:(id)arg1;
- (void)onDidRemoveMessage;
- (_Bool)didRemoveMessage:(struct NSManagedObject *)arg1;
- (void)onUpdateMissedMessageIDs:(id)arg1;
- (void)updateMissedMessage:(struct NSManagedObject *)arg1;
- (void)onDidSaveMessage;
- (_Bool)didSaveMessage:(struct NSManagedObject *)arg1;
- (_Bool)buildIndexTableIn:(id)arg1 filteredMessages:(id)arg2 unindexedMessageIds:(id)arg3;
- (_Bool)fetchMessagesIn:(id)arg1 unindexedMessageIds:(id)arg2;
- (id)selectUnindexedMessageIds:(id)arg1;
- (_Bool)saveMessageIds:(id)arg1 messageIds:(id)arg2 lastIndexedTimestamp:(long long)arg3 lastMessageTimestamp:(long long)arg4;
- (_Bool)prefetchMessagesIds:(id)arg1 fetchedMessageCount:(unsigned long long *)arg2;
- (unsigned long long)adjustFetchLimit:(unsigned long long)arg1 lastElapsedTime:(long long)arg2 defaultValue:(int)arg3 minValue:(int)arg4 maxValue:(int)arg5;
- (void)buildIndexTable;
- (void)buildIndexTables;
- (_Bool)checkLastErrorAndStop:(id)arg1;
- (void)failedToCreateDatabase:(id)arg1 isFTSUnAvailable:(_Bool)arg2;
- (void)buildFTSDatabase:(_Bool)arg1;
- (void)validateFTSDatabase;
- (void)initState;
- (_Bool)removeDatabaseAtPath:(id)arg1;
- (_Bool)isAvailableState:(_Bool)arg1;
- (_Bool)isAvailableFreeSpace:(_Bool)arg1;
- (void)rebuildDatabase;
- (void)clearDatabase;
- (void)applicationDidBecomeActive;
- (void)start;
- (_Bool)isDiskFull;
- (_Bool)isUnAvailable;
- (_Bool)isFTSAvailable;
- (_Bool)isAvailable;
- (_Bool)isAvailable:(_Bool)arg1;
- (void)managedObjectContextDidSave:(id)arg1;
- (void)managedObjectContextDidChange:(id)arg1;
- (id)managedObjectContext;
- (void)onLowMemoryWarning:(id)arg1;
- (id)migrateDatabaseStorage:(id)arg1;
- (void)dealloc;
- (id)init;

// Remaining properties
@property(readonly, nonatomic) _Bool canUnauthorizeAccount;

@end

